---
title: Workflow R+blogdown+Hugo
author: "Gilles"
date: 2025-11-30
slug: workflow-rmd-hugo
categories: ["R"]
tags: ["init", "test"]
output: blogdown::html_page
---



<p><strong>Dernière MAJ du post :</strong> 03-déc.-2025</p>
<div id="principe" class="section level2">
<h2>Principe</h2>
<p>render / pre-build site en local avec <code>blogdown</code>, lancer <code>hugo -D</code> pour <em>construire</em> le répertoire <code>public</code>. Ce dernier est utilisé pour déployer le site sur <a href="https://www.netlify.com/">netlify</a>.</p>
</div>
<div id="avantage" class="section level2">
<h2>Avantage</h2>
<p>Déploiement rapide, ne nécessite pas d’installer R et ses packages durant le <em>CI</em> pour construire le site.</p>
</div>
<div id="inconvénients" class="section level2">
<h2>Inconvénients</h2>
<ul>
<li>Nécessite de render en local (avec le script <code>_build.R</code>)</li>
<li>Gérer le <em>pitfall</em> des figures générées dans les <em>bundles</em> Hugo :
<ul>
<li>chaque post doit contenir un répertoire images</li>
<li>chaque fichier index.Rmd doit contenir un paragraphe de paramétrage</li>
</ul></li>
</ul>
<pre class="r"><code>slug &lt;- tools::file_path_sans_ext(basename(knitr::current_input()))
img_dir &lt;- file.path(dirname(knitr::current_input()), &quot;images&quot;)
dir.create(img_dir, recursive = TRUE, showWarnings = FALSE)
knitr::opts_chunk$set(
	message = FALSE,
	warning = FALSE,
	echo = FALSE,
  fig.path = paste0(img_dir, &quot;/&quot;),
  fig.align = &quot;center&quot;,
  fig.width = 10,
  fig.height = 8,
  dev = &quot;png&quot;,
  dpi = 96
)</code></pre>
</div>
